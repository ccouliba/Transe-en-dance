document.addEventListener('DOMContentLoaded', TranslateText);

function getCookie() {
    const cookieList = decodeURIComponent(document.cookie).split(';');
    var cookieLang = navigator.language;
    for (let i = 0; i < cookieList.length; ++i) {
        const cookie = cookieList[i].trim(); 
        if (cookie.startsWith("language=")) {
            cookieLang = cookie.substring("language=".length, cookie.length);
            break;
        }
    }
    return cookieLang;
}

function getTranslation(lang, val) {
    return langDict[lang] && langDict[lang][val] ? langDict[lang][val] : val;
}

function translateElem(elem) {
    const translated = getTranslation(getCookie(), elem.innerText);
    elem.value = elem.innerText = translated;
}

function TranslateText() {
    idList.forEach(idName => {
        let elem = document.getElementById(idName);
        if (elem)
            translateElem(elem);
    });
}

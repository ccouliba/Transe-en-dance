<!DOCTYPE html>
<html lang="en">
  <head>
	<meta charset="UTF-8" />
	<title>{% block title %}PONG{% endblock %}</title>
	{% load static %}
	<link rel="stylesheet" href="{% static 'pong/css/style.css' %}" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
	crossorigin="anonymous"></script>

  </head>
  <body>
    <header>
        <h1 class="pong-title">PONG</h1>
        <div id="menu-container"></div>
    </header>
	<script src="{% static 'pong/js/menu.js' %}"></script>
	<script src="{% static 'pong/js/home.js' %}"></script>
	<script src="{% static 'pong/js/play.js' %}"></script>
	<script src="{% static 'pong/js/friends.js' %}"></script>
	<script src="{% static 'pong/js/tournament.js' %}"></script>
	<script src="{% static 'pong/js/logout.js' %}"></script>
	<script src="{% static 'pong/js/404.js' %}"></script>
	<script src="{% static 'pong/js/profile.js' %}"></script>
	<script src="{% static 'pong/js/login.js' %}"></script>
	<script src="{% static 'pong/js/main.js' %}"></script>
	<main>
	  <div id="app">
		{% block content %}
		<script>
		  // est ce que l'utilisateur est connecte ?
		  fetch('/pong/api/check_auth')
			.then(response => response.json())
			.then(data => {
			  if (data.is_authenticated) {
				changePage("#home");
			  } else {
				changePage("#login");
			  }
			})
			.catch(error => {
			  console.error('Error:', error);
			  changePage("#login");
			});
		</script>
		{% endblock %}
	  </div>
	</main>
	{% block scripts %} {% endblock %}
  </body>
</html>
